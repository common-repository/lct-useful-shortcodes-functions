var lct_custom,lct_instant_vars=[],lct_instant_executed=[];function lct_instant_save_current_value(t){var a=jQuery(t),e=a.closest(lct_instant_vars.main_field),l=a.val();switch(e.data("type")){case"radio":case"taxonomy":l=null,e.find("input[type='radio']:checked").each(function(){l=jQuery(this).val()});break;case"true_false":"checkbox"===a.attr("type")&&(l=a.is(":checked")?1:0);break;case"checkbox":var _=[];e.find("input[type='checkbox']:checked").each(function(){_.push(jQuery(this).val())}),l=_||"";break;case"select":""===(l=l||e.find("select").val())&&void 0===e.data("lct:::value_old")?l="---empty---":void 0!==e.data("lct:::value_old")&&(l=e.data("lct:::value_old"))}e.data("lct:::value_old",l)}function lct_instant_true_false(t){var t=jQuery(t),a=t.closest(lct_instant_vars.main_field),e=t.closest("form"),l=[];l.this=t,lct_instant_vars.this=l.this,l.field_parent=a,l["lct:::field_key"]=a.data("key"),l["lct:::executed"]=e.attr("id")+"_"+t.attr("id"),l["lct:::value"]=t.is(":checked")?1:0,l["lct:::value_old"]=a.data("lct:::value_old"),l["lct:::value"]===l["lct:::value_old"]||a.hasClass("acf-hidden")||lct_instant_executed[l["lct:::executed"]]||(l.disabled_selector="#"+e.attr("id")+lct_instant_vars.main_field+'-true-false:not(.lct_dont_disable)[data-name="'+l.field_parent.data("name")+'"] input',lct_adjust_selector_access("disable",l),lct_acf_instant_save_update(l))}function lct_instant_checkbox_group(t){var a,e,l,t=jQuery(t);t.closest("form").hasClass("lct_disable_instant_checkbox_group")||(a=t.closest(lct_instant_vars.main_field),(e=[]).this=t,lct_instant_vars.this=e.this,e.field_parent=a,e["lct:::field_key"]=a.data("key"),e["lct:::executed"]=e["lct:::field_key"],e["lct:::value_old"]=a.data("lct:::value_old"),l=[],a.find("input[type='checkbox']:checked").each(function(){l.push(jQuery(this).val())}),e["lct:::value"]=l||"",e["lct:::value"]===e["lct:::value_old"]||a.hasClass("acf-hidden")||lct_instant_executed[e["lct:::executed"]]||(t=a.closest("form"),e.disabled_selector="#"+t.attr("id")+lct_instant_vars.main_field+'-checkbox:not(.lct_dont_disable)[data-name="'+e.field_parent.data("name")+'"] input',lct_adjust_selector_access("disable",e),lct_acf_instant_save_update(e)))}function lct_instant_radio_group(t){var a,e,l,t=jQuery(t);t.closest("form").hasClass("lct_disable_instant_radio_group")||(a=t.closest(lct_instant_vars.main_field),(e=[]).this=t,lct_instant_vars.this=e.this,e.field_parent=a,e["lct:::field_key"]=a.data("key"),e["lct:::executed"]=e["lct:::field_key"],e["lct:::value_old"]=a.data("lct:::value_old"),l=null,a.find("input:checked").each(function(){l=jQuery(this).val()}),e["lct:::value"]=l,e["lct:::value"]===e["lct:::value_old"]||a.hasClass("acf-hidden")||lct_instant_executed[e["lct:::executed"]]||(t=a.closest("form"),e.disabled_selector="#"+t.attr("id")+lct_instant_vars.main_field+'-radio:not(.lct_dont_disable)[data-name="'+e.field_parent.data("name")+'"] input',lct_adjust_selector_access("disable",e),lct_acf_instant_save_update(e)))}function lct_instant_default(t){var a,t=jQuery(t),e=t.closest(lct_instant_vars.main_field),l=[];l.this=t,lct_instant_vars.this=l.this,l.field_parent=e,l["lct:::field_key"]=e.data("key"),l["lct:::executed"]=l["lct:::field_key"],l["lct:::value"]=t.val(),l["lct:::value_old"]=e.data("lct:::value_old"),l["lct:::value"]===l["lct:::value_old"]||e.hasClass("acf-hidden")||lct_instant_executed[l["lct:::executed"]]||(t="#"+e.closest("form").attr("id")+lct_instant_vars.main_field+'[data-name="'+l.field_parent.data("name")+'"] ',l.disabled_selector=t+lct_instant_vars.field_text_only+", "+t+lct_instant_vars.field_url_only+", "+t+lct_instant_vars.field_number_only+", "+t+lct_instant_vars.field_email_only+", "+t+lct_instant_vars.field_select_only+", "+t+lct_instant_vars.field_textarea_only,lct_adjust_selector_access("disable",l),e.hasClass("acf-field-date-picker")&&(t=e.find(".acf-input .acf-date-picker").data("date_format"),0<=l["lct:::value"].indexOf("/")?(a=new Date(l["lct:::value"]),t&&t.indexOf("/")<=0&&lct_is_valid_date(a)&&(l["lct:::value"]=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),l["lct:::value"]=l["lct:::value"].replaceAll("-",""))):0<=l["lct:::value"].indexOf("-")&&(a=new Date(l["lct:::value"]),t&&t.indexOf("-")<=0&&lct_is_valid_date(a)&&(l["lct:::value"]=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),l["lct:::value"]=l["lct:::value"].replaceAll("-",""))),e.find('input[type="hidden"]').val(l["lct:::value"])),lct_acf_instant_save_update(l))}function lct_is_valid_date(t){return t instanceof Date&&!isNaN(t)}function lct_adjust_selector_access(t,a,e){var l;"fail"===t?a.field_parent.find(".lct_instant_message").html(e):"disable"===t?(lct_instant_executed[a["lct:::executed"]]=!0,setTimeout(function(){jQuery(a.disabled_selector).attr("disabled",!0)},20),jQuery(a.disabled_selector).css({background:"#FFB0B0",cursor:"wait"}),a.field_parent.find(".lct_instant_message").remove(),a.field_parent.find(".acf-label").is(":visible")?(l='<div class="lct_instant_message lct_instant_message_label">'+lct_instant_vars.update_text+"</div>",a.field_parent.find(".acf-label").prepend(l),a.field_parent.find(".acf-label label").css({display:"inline-block"})):(l='<div class="lct_instant_message">'+lct_instant_vars.update_text+"</div>",a.field_parent.find(".acf-input").prepend(l))):"enable"===t&&(l=1,(l=jQuery(a.disabled_selector).closest(".acf-field").length&&void 0!==jQuery(a.disabled_selector).closest(".acf-field").attr("hidden")?0:l)&&jQuery(a.disabled_selector).attr("disabled",!1),jQuery(a.disabled_selector).css({background:"",cursor:""}),a.field_parent.find(".lct_instant_message").html(e.status_message),"updated"===e.status&&(a.field_parent.find(".lct_instant_message").css({color:"green"}),setTimeout(function(){a.field_parent.find(".lct_instant_message").remove()},4e3)),lct_instant_executed[a["lct:::executed"]]=!1)}function lct_adjust_submit_button(t){var a;!0!==lct_custom.acf_deny_submit_button_disable&&(a=jQuery('.acf-form-submit [type="submit"].button'),!lct_instant_vars.submit_text&&0<a.length?lct_instant_vars.submit_text=a.val():lct_instant_vars.submit_text||(lct_instant_vars.submit_text="Submit"),"disable"===t?(lct_instant_vars.update_count+=1,a.val("Saving please wait..."),lct_custom.acf_form_delayable_submit_check&&lct_instant_vars.this.length&&lct_instant_vars.this.closest("form").find('[name="_lct_wp_api_submit_ready"]').length?lct_instant_vars.this.closest("form").find('[name="_lct_wp_api_submit_ready"]').val("0"):a.attr("disabled",!0),a.css({cursor:"wait"})):"enable"===t&&(--lct_instant_vars.update_count,lct_instant_vars.update_count<=0&&(a.val(lct_instant_vars.submit_text),lct_custom.acf_form_delayable_submit_check&&lct_instant_vars.this.length&&lct_instant_vars.this.closest("form").find('[name="_lct_wp_api_submit_ready"]').length?lct_instant_vars.this.closest("form").find('[name="_lct_wp_api_submit_ready"]').val("1"):a.attr("disabled",!1),a.css({cursor:""}))))}function lct_wait_for_instant_executed(t,a,e){void 0===lct_instant_executed[t]||!1===lct_instant_executed[t]?a&&this[a]():(void 0===e&&(e=50),setTimeout(function(){lct_wait_for_instant_executed(t,a,e)},e))}function lct_acf_instant_save_update(l){var t=1;l.field_parent.hasClass("lct_instant_save_delay_2_sec")&&(t=2e3),setTimeout(function(){l.post_id||(l.post_id=l.this.closest("form").find('[name="_acf_post_id"]').val()),lct_adjust_submit_button("disable"),jQuery.ajax({url:lct_custom.ajax_url,type:"POST",dataType:"json",data:{action:"lct_acf_instant_save",nonce:l.this.closest("form").find('[name="_acf_nonce"]').val(),task:"update",screen:l.this.closest("form").find('[name="_acf_screen"]').val(),post_id:l.post_id,"lct:::field_key":l["lct:::field_key"],"lct:::value":l["lct:::value"],"lct:::value_old":l["lct:::value_old"],"lct:::acf_form":l.this.closest("form").serialize(),_acf_form:l.this.closest("form").serialize()}}).done(function(t,a){"refresh"===t.status&&location.reload(!0),"updated"===t.status&&l.this.closest(lct_instant_vars.main_field).data("lct:::value_old",l["lct:::value"])}).fail(function(t,a,e){a=a+" ["+e+"]";console.log("Opps, that went bad! :: lct_acf_instant_save_update(); "+a),lct_adjust_selector_access("fail",l,a)}).always(function(t,a){l.this.closest("form").find('[name="_acf_changed"]').val(0),lct_adjust_submit_button("enable"),lct_adjust_selector_access("enable",l,t)})},t)}"undefined"!=typeof lct_custom_admin&&(lct_custom=lct_custom_admin),lct_instant_vars.main_field=".lct_instant .acf-field",lct_instant_vars.field_text_only='.acf-input input[type="text"]',lct_instant_vars.field_text=lct_instant_vars.main_field+" "+lct_instant_vars.field_text_only,lct_instant_vars.field_url_only='.acf-input input[type="url"]',lct_instant_vars.field_url=lct_instant_vars.main_field+" "+lct_instant_vars.field_url_only,lct_instant_vars.field_number_only='.acf-input input[type="number"]',lct_instant_vars.field_number=lct_instant_vars.main_field+" "+lct_instant_vars.field_number_only,lct_instant_vars.field_email_only='.acf-input input[type="email"]',lct_instant_vars.field_email=lct_instant_vars.main_field+" "+lct_instant_vars.field_email_only,lct_instant_vars.field_select_only=".acf-input select",lct_instant_vars.field_select=lct_instant_vars.main_field+" "+lct_instant_vars.field_select_only,lct_instant_vars.field_select2_only=".acf-input .select2-selection",lct_instant_vars.field_select2=lct_instant_vars.main_field+" "+lct_instant_vars.field_select2_only,lct_instant_vars.field_textarea_only=".acf-input textarea",lct_instant_vars.field_textarea=lct_instant_vars.main_field+" "+lct_instant_vars.field_textarea_only,lct_instant_vars.default_fields=lct_instant_vars.field_text+", "+lct_instant_vars.field_url+", "+lct_instant_vars.field_number+", "+lct_instant_vars.field_email+", "+lct_instant_vars.field_select+", "+lct_instant_vars.field_textarea,lct_instant_vars.tf_field=lct_instant_vars.main_field+"-true-false .acf-input input",lct_instant_vars.checkbox_field=lct_instant_vars.main_field+"-checkbox .acf-input input",lct_instant_vars.radio_field=lct_instant_vars.main_field+"-radio .acf-input input, "+lct_instant_vars.main_field+'-taxonomy .acf-input input[type="radio"]',lct_instant_vars.all_classes=lct_instant_vars.default_fields+", "+lct_instant_vars.tf_field+", "+lct_instant_vars.checkbox_field+", "+lct_instant_vars.radio_field,lct_instant_vars.update_count=0,lct_instant_vars.update_text="Updating...",jQuery(document).ready(function(){var t;"undefined"!=typeof acf&&(acf.unload.active=0,(t=jQuery("body")).on("focus",lct_instant_vars.all_classes,function(t){"radio"!==jQuery(this).attr("type")&&lct_instant_save_current_value(t.target)}),t.on("mouseenter",lct_instant_vars.radio_field,function(t){lct_instant_save_current_value(t.target)}),t.on("focus",lct_instant_vars.field_select2,function(t){lct_instant_save_current_value(t.target)}),t.on("change",lct_instant_vars.tf_field,function(t){lct_instant_true_false(t.target)}),t.on("change",lct_instant_vars.checkbox_field,function(t){lct_instant_checkbox_group(t.target)}),t.on("change",lct_instant_vars.radio_field,function(t){lct_instant_radio_group(t.target)}),t.on("change blur",lct_instant_vars.default_fields,function(t){lct_instant_default(t.target)}))});